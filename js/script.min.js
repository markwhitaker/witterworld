"use strict";$((function(){const t=["#00CCFA","#00C0EB","#00B3DB","#00A7CC","#009ABD"],e={FLAG:"National flag of {0}",POSTER:"Film poster for {0}"},o={FLAG:"https://flagpedia.net/data/flags/vector/{0}.svg",IMDB:"https://www.imdb.com/title/{0}/",JUST_WATCH:"https://www.justwatch.com/uk/movie/{0}",LETTERBOXD:"https://letterboxd.com/film/{0}/",ROTTEN_TOMATOES:"https://www.rottentomatoes.com/m/{0}",WIKIPEDIA:"https://en.wikipedia.org/wiki/{0}",YOUTUBE:"https://www.youtube.com/watch?v={0}"};let r,i={},n=[];var l;function a(){r=new jvm.Map({map:"world_merc",container:$("#map"),backgroundColor:"#f0f0f0",zoomMin:.9,focusOn:{x:.5,y:.5,scale:.95},series:{regions:[{attribute:"fill"}]},onRegionClick:function(t,e){c(e)}}),r.series.regions[0].setValues(function(){let t={};for(let e in r.regions)t[e]=i[e]?i[e].colour:"#555555";return t}())}function s(){let e=Math.floor(Math.random()*t.length);return t[e]}function c(t){let r=i[t];r&&($("#filmCountry").text(r.country),$("#filmTitle").text(r.title),$("#filmYear").text(r.year),$("#filmCountryFlag").prop({src:o.FLAG.format(r.countryCode.toLowerCase()),alt:e.FLAG.format(r.country)}),$("#filmImageContainer").toggleClass("defaultImage",!r.image),$("#filmImage").prop({src:r.image,alt:e.POSTER.format(r.title)}).toggle(!!r.image),$("#filmOriginalTitle").text(r.originalTitle).toggle(!!r.originalTitle),$("#imdbLink").prop({href:o.IMDB.format(r.imdb)}).toggle(!!r.imdb),$("#letterboxdLink").prop({href:o.LETTERBOXD.format(r.letterboxd)}).toggle(!!r.letterboxd),$("#rottenTomatoesLink").prop({href:o.ROTTEN_TOMATOES.format(r.rottenTomatoes)}).toggle(!!r.rottenTomatoes),$("#wikipediaLink").prop({href:o.WIKIPEDIA.format(r.wikipedia)}).toggle(!!r.wikipedia),$("#justwatchLink").prop({href:o.JUST_WATCH.format(r.justwatch)}).toggle(!!r.justwatch),$("#trailerLink").prop({href:o.YOUTUBE.format(r.trailer)}).toggle(!!r.trailer),$("#reviewLink").prop({href:o.YOUTUBE.format(r.review)}).toggle(!!r.review),$("#filmReviewer").text(r.reviewer),$("#filmDetailsModal").modal())}$("a").prop("target","_blank"),$("#btnShowMap").click((function(){$("#btnShowMap").addClass("selected"),$("#mapContainer").show(),a(),$("#btnShowList").removeClass("selected"),$("#listContainer").hide()})),$("#btnShowList").click((function(){$("#btnShowList").addClass("selected"),$("#listContainer").show(),r.remove(),r=void 0,$("#btnShowMap").removeClass("selected"),$("#mapContainer").hide()})),$("#filmCountryFlag").on({error:function(){$(this).hide()},load:function(){$(this).show()}}),l=function(){a(),function(){$("#list").empty();for(let t=0;t<n.length;t++){let e=n[t];$("#list").append($("<span></span>").addClass("listFilm").prop({style:"background-color: "+e.colour}).text(e.country).click((function(){c(e.countryCode)})))}}()},n=[],i={},$.getJSON("data/films.json",(function(t){for(let e=0;e<t.length;e++){let o=t[e];o.colour=s(),i[o.countryCode]=o}n=t.sort((function(t,e){return t.country<e.country?-1:t.country>e.country?1:0})),l()})),String.prototype.format=function(t){return this.replace("{0}",t)}}));