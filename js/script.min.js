"use strict";$((function(){const t=["#00CCFA","#00C0EB","#00B3DB","#00A7CC","#009ABD"];var e,o,i={},l=[];function n(){(e=new jvm.Map({map:"world_merc",container:$("#map"),backgroundColor:"#f0f0f0",zoomMin:.9,focusOn:{x:.5,y:.5,scale:.95},series:{regions:[{attribute:"fill"}]},onRegionClick:function(t,e){a(e)}})).series.regions[0].setValues(function(){var t={};for(let o in e.regions)t[o]=i[o]?i[o].colour:"#555555";return t}())}function r(){let e=Math.floor(Math.random()*t.length);return t[e]}function a(t){var e=i[t];e&&($("#filmCountry").text(e.country),$("#filmTitle").text(e.title),$("#filmYear").text(e.year),$("#filmCountryFlag").prop("src","https://flagpedia.net/data/flags/vector/"+e.countryCode.toLowerCase()+".svg").prop("alt","National flag of "+e.country),$("#filmImageContainer").toggleClass("defaultImage",null==e.image),$("#filmImage").prop("src",e.image).prop("alt","Film poster for "+e.title).toggle(null!=e.image),$("#filmOriginalTitle").text(e.originalTitle).toggle(null!=e.originalTitle),$("#imdbLink").prop("href","https://www.imdb.com/title/"+e.imdb+"/").toggle(null!=e.imdb),$("#letterboxdLink").prop("href","https://letterboxd.com/film/"+e.letterboxd+"/").toggle(null!=e.letterboxd),$("#rottenTomatoesLink").prop("href","https://www.rottentomatoes.com/m/"+e.rottenTomatoes).toggle(null!=e.rottenTomatoes),$("#wikipediaLink").prop("href","https://en.wikipedia.org/wiki/"+e.wikipedia).toggle(null!=e.wikipedia),$("#justwatchLink").prop("href","https://www.justwatch.com/uk/movie/"+e.justwatch).toggle(null!=e.justwatch),$("#trailerLink").prop("href","https://www.youtube.com/watch?v="+e.trailer).toggle(null!=e.trailer),$("#reviewLink").prop("href","https://www.youtube.com/watch?v="+e.review).toggle(null!=e.review),$("#filmReviewer").text(e.reviewer),$("#filmDetailsModal").modal())}$("a").prop("target","_blank"),$("#btnShowMap").click((function(){$("#btnShowMap").addClass("selected"),$("#mapContainer").show(),n(),$("#btnShowList").removeClass("selected"),$("#listContainer").hide()})),$("#btnShowList").click((function(){$("#btnShowList").addClass("selected"),$("#listContainer").show(),e.remove(),e=void 0,$("#btnShowMap").removeClass("selected"),$("#mapContainer").hide()})),$("#filmCountryFlag").on({error:function(){$(this).hide()},load:function(){$(this).show()}}),o=function(){n(),function(){$("#list").empty();for(let t=0;t<l.length;t++){let e=l[t];$("#list").append($("<span></span>").addClass("listFilm").prop("style","background-color: "+e.colour).text(e.country).click((function(){a(e.countryCode)})))}}()},l=[],i={},$.getJSON("data/films.json",(function(t){l=t.sort((function(t,e){return t.country<e.country?-1:t.country>e.country?1:0}));for(let t=0;t<l.length;t++){let e=l[t];e.colour=r(),i[e.countryCode]=e}o()}))}));